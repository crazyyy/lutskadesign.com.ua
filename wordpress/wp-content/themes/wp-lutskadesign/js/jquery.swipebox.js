!function(e,i,s,t){s.swipebox=function(o,a){var n,r,l={useCSS:!0,useSVG:!0,initialIndexOnArray:0,removeBarsOnMobile:!0,hideCloseButtonOnMobile:!1,hideBarsDelay:3e3,videoMaxWidth:1140,vimeoColor:"cccccc",beforeOpen:null,afterOpen:null,afterClose:null,loopAtEnd:!1,autoplayVideos:!1,queryStringData:{},toggleClassOnLoad:""},d=this,c=[],p=o.selector,b=s(p),u=navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i),h=null!==u||i.createTouch!==t||"ontouchstart"in e||"onmsgesturechange"in e||navigator.msMaxTouchPoints,v=!!i.createElementNS&&!!i.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,w=e.innerWidth?e.innerWidth:s(e).width(),x=e.innerHeight?e.innerHeight:s(e).height(),g=0,f='<div id="swipebox-overlay" class="desctoped">          <div id="swipebox-container">            <div id="swipebox-title"></div>            <div id="swipebox-slider"></div>            <div id="swipebox-bottom-bar">              <div id="swipebox-share"></div>            </div>            <a id="swipebox-prev">              <svg preserveAspectRatio="none" class="slider-arrow-left" viewBox="0 0 17 15">                  <use xlink:href="#arrow"></use>              </svg>            </a>            <a id="swipebox-next">              <svg preserveAspectRatio="none" class="slider-arrow-right" viewBox="0 0 17 15">                  <use xlink:href="#arrow"></use>              </svg>            </a>            <div id="swipebox-counter">              <span id="swipebox-current-slide"></span>/<span id="swipebox-all-slides"></span>            </div>            <a id="swipebox-close">              <svg preserveAspectRatio="none" class="close" viewBox="0 0 17 15">                  <use xlink:href="#close-cross"></use>              </svg>            </a>          </div>      </div>',m='<div id="swipebox-overlay" class="mobiled">          <div id="swipebox-container">            <div id="swipebox-slider"></div>            <div id="swipebox-top-bar">              <div id="swipebox-title"></div>              <div id="swipebox-share"></div>              <a id="swipebox-close">                <svg preserveAspectRatio="none" class="close" viewBox="0 0 17 15">                    <use xlink:href="#close-cross"></use>                </svg>              </a>            </div>            <div id="swipebox-bottom-bar">              <div id="swipebox-counter">                <span id="swipebox-counter-icon"></span><span id="swipebox-current-slide"></span>/<span id="swipebox-all-slides"></span>              </div>              <div id="swipebox-arrows">                <a id="swipebox-prev"></a>                <a id="swipebox-next"></a>              </div>            </div>          </div>      </div>',y=u?m:f;d.settings={},s.swipebox.close=function(){n.closeSlide()},s.swipebox.extend=function(){return n},d.init=function(){d.settings=s.extend({},l,a),s.isArray(o)?(c=o,n.target=s(e),n.init(d.settings.initialIndexOnArray)):s(i).on("click",p,function(e){if("slide current"===e.target.parentNode.className)return!1;s.isArray(o)||(n.destroy(),r=s(p),n.actions()),c=[];var i,t,a;a||(t="data-rel",a=s(this).attr(t)),a||(t="rel",a=s(this).attr(t)),r=a&&""!==a&&"nofollow"!==a?b.filter("["+t+'="'+a+'"]'):s(p),r.each(function(){var e=null,i=null;s(this).attr("title")&&(e=s(this).attr("title")),s(this).attr("href")&&(i=s(this).attr("href")),s(this).data("id")&&(attach_id=s(this).data("id")),s(this).data("postname")&&(postname=s(this).data("postname")),c.push({href:i,title:e,id:attach_id,postname:postname})}),i=r.index(s(this)),e.preventDefault(),e.stopPropagation(),n.target=s(e.target),n.init(i)})},n={init:function(e){d.settings.beforeOpen&&d.settings.beforeOpen(),this.target.trigger("swipebox-start"),s.swipebox.isOpen=!0,this.build(),this.openSlide(e),this.openMedia(e),this.preloadMedia(e+1),this.preloadMedia(e-1),d.settings.afterOpen&&d.settings.afterOpen()},build:function(){var e,i=this;s("body").append(y),s("#swipebox-all-slides").text(c.length),v&&d.settings.useSVG===!0&&(e=s("#swipebox-close").css("background-image"),e=e.replace("png","svg"),s("#swipebox-prev, #swipebox-next, #swipebox-close").css({"background-image":e})),u&&d.settings.removeBarsOnMobile&&(s("#swipebox-bottom-bar, #swipebox-top-bar").remove(),s("#swipebox-prev, #swipebox-next").remove(),s("#swipebox-overlay").addClass("hidden-panels")),s.each(c,function(){s("#swipebox-slider").append('<div class="slide"></div>')}),i.setDim(),i.actions(),h&&i.gesture(),i.keyboard(),i.animBars(),i.resize()},setDim:function(){var i,t,o={};"onorientationchange"in e?e.addEventListener("orientationchange",function(){0===e.orientation?(i=w,t=x):90!==e.orientation&&e.orientation!==-90||(i=x,t=w)},!1):(i=e.innerWidth?e.innerWidth:s(e).width(),t=e.innerHeight?e.innerHeight:s(e).height()),o={width:i,height:t},s("#swipebox-overlay").css(o)},resize:function(){var i=this;s(e).resize(function(){i.setDim()}).resize()},supportTransition:function(){var e,s="transition WebkitTransition MozTransition OTransition msTransition KhtmlTransition".split(" ");for(e=0;e<s.length;e++)if(i.createElement("div").style[s[e]]!==t)return s[e];return!1},doCssTrans:function(){if(d.settings.useCSS&&this.supportTransition())return!0},gesture:function(){var e,i,t,o,a,n,r=this,l=!1,d=!1,p=10,b=50,u={},h={},v=s("#swipebox-top-bar, #swipebox-bottom-bar"),x=s("#swipebox-slider");v.addClass("visible-bars"),r.setTimeout(),s("body").bind("touchstart",function(r){return s(this).addClass("touching"),e=s("#swipebox-slider .slide").index(s("#swipebox-slider .slide.current")),h=r.originalEvent.targetTouches[0],u.pageX=r.originalEvent.targetTouches[0].pageX,u.pageY=r.originalEvent.targetTouches[0].pageY,s("#swipebox-slider").css({"-webkit-transform":"translate3d("+g+"%, 0, 0)",transform:"translate3d("+g+"%, 0, 0)"}),s(".touching").bind("touchmove",function(r){if(r.preventDefault(),r.stopPropagation(),h=r.originalEvent.targetTouches[0],!d&&(a=t,t=h.pageY-u.pageY,Math.abs(t)>=b||l)){var v=.75-Math.abs(t)/x.height();x.css({top:t+"px"}),x.css({opacity:v}),l=!0}o=i,i=h.pageX-u.pageX,n=100*i/w,!d&&!l&&Math.abs(i)>=p&&(s("#swipebox-slider").css({"-webkit-transition":"",transition:""}),d=!0),d&&(0<i?0===e?s("#swipebox-overlay").addClass("leftSpringTouch"):(s("#swipebox-overlay").removeClass("leftSpringTouch").removeClass("rightSpringTouch"),s("#swipebox-slider").css({"-webkit-transform":"translate3d("+(g+n)+"%, 0, 0)",transform:"translate3d("+(g+n)+"%, 0, 0)"})):0>i&&(c.length===e+1?s("#swipebox-overlay").addClass("rightSpringTouch"):(s("#swipebox-overlay").removeClass("leftSpringTouch").removeClass("rightSpringTouch"),s("#swipebox-slider").css({"-webkit-transform":"translate3d("+(g+n)+"%, 0, 0)",transform:"translate3d("+(g+n)+"%, 0, 0)"}))))}),!1}).bind("touchend",function(e){if(e.preventDefault(),e.stopPropagation(),s("#swipebox-slider").css({"-webkit-transition":"-webkit-transform 0.4s ease",transition:"transform 0.4s ease"}),t=h.pageY-u.pageY,i=h.pageX-u.pageX,n=100*i/w,l)if(l=!1,Math.abs(t)>=2*b&&Math.abs(t)>Math.abs(a)){var c=t>0?x.height():-x.height();x.animate({top:c+"px",opacity:0},300,function(){r.closeSlide()})}else x.animate({top:0,opacity:1},300);else d?(d=!1,i>=p&&i>=o?r.getPrev():i<=-p&&i<=o&&r.getNext()):v.hasClass("visible-bars")?(r.clearTimeout(),r.hideBars()):(r.showBars(),r.setTimeout());s("#swipebox-slider").css({"-webkit-transform":"translate3d("+g+"%, 0, 0)",transform:"translate3d("+g+"%, 0, 0)"}),s("#swipebox-overlay").removeClass("leftSpringTouch").removeClass("rightSpringTouch"),s(".touching").off("touchmove").removeClass("touching")})},setTimeout:function(){if(d.settings.hideBarsDelay>0){var i=this;i.clearTimeout(),i.timeout=e.setTimeout(function(){i.hideBars()},d.settings.hideBarsDelay)}},clearTimeout:function(){e.clearTimeout(this.timeout),this.timeout=null},showBars:function(){var e=s("#swipebox-top-bar, #swipebox-bottom-bar");this.doCssTrans()?e.addClass("visible-bars"):(s("#swipebox-top-bar").animate({top:0},500),s("#swipebox-bottom-bar").animate({bottom:0},500),setTimeout(function(){e.addClass("visible-bars")},1e3))},hideBars:function(){var e=s("#swipebox-top-bar, #swipebox-bottom-bar");this.doCssTrans()?e.removeClass("visible-bars"):(s("#swipebox-top-bar").animate({top:"-50px"},500),s("#swipebox-bottom-bar").animate({bottom:"-50px"},500),setTimeout(function(){e.removeClass("visible-bars")},1e3))},animBars:function(){var e=this,i=s("#swipebox-top-bar, #swipebox-bottom-bar");i.addClass("visible-bars"),e.setTimeout(),s("#swipebox-slider").click(function(){i.hasClass("visible-bars")||(e.showBars(),e.setTimeout())}),s("#swipebox-bottom-bar").hover(function(){e.showBars(),i.addClass("visible-bars"),e.clearTimeout()},function(){d.settings.hideBarsDelay>0&&(i.removeClass("visible-bars"),e.setTimeout())})},keyboard:function(){var i=this;s(e).bind("keyup",function(e){e.preventDefault(),e.stopPropagation(),37===e.keyCode?i.getPrev():39===e.keyCode?i.getNext():27===e.keyCode&&i.closeSlide()})},actions:function(){var e=this,i="touchend click";c.length<2?(s("#swipebox-bottom-bar").hide(),t===c[1]&&s("#swipebox-top-bar").hide()):(s("#swipebox-prev").bind(i,function(i){i.preventDefault(),i.stopPropagation(),e.getPrev(),e.setTimeout()}),s("#swipebox-next").bind(i,function(i){i.preventDefault(),i.stopPropagation(),e.getNext(),e.setTimeout()})),s("#swipebox-close").bind(i,function(){e.closeSlide()})},setSlide:function(e,i){i=i||!1;var t=s("#swipebox-slider");g=100*-e,this.doCssTrans()?t.css({"-webkit-transform":"translate3d("+100*-e+"%, 0, 0)",transform:"translate3d("+100*-e+"%, 0, 0)"}):t.animate({left:100*-e+"%"}),s("#swipebox-slider .slide").removeClass("current"),s("#swipebox-slider .slide").eq(e).addClass("current"),this.setTitle(e),this.setShares(e),i&&t.fadeIn(),s("#swipebox-prev, #swipebox-next").removeClass("disabled"),s("#swipebox-current-slide").text(e+1),0===e?s("#swipebox-prev").addClass("disabled"):e===c.length-1&&d.settings.loopAtEnd!==!0&&s("#swipebox-next").addClass("disabled")},openSlide:function(i){s("html").addClass("swipebox-html"),h?(s("html").addClass("swipebox-touch"),d.settings.hideCloseButtonOnMobile&&s("html").addClass("swipebox-no-close-button")):s("html").addClass("swipebox-no-touch"),s(e).trigger("resize"),this.setSlide(i,!0)},preloadMedia:function(e){var i=this,s=null;c[e]!==t&&(s=c[e].href),i.isVideo(s)?i.openMedia(e):setTimeout(function(){i.openMedia(e)},1e3)},openMedia:function(e){var i,o,a=this;return c[e]!==t&&(i=c[e].href),!(e<0||e>=c.length)&&(o=s("#swipebox-slider .slide").eq(e),void(a.isVideo(i)?o.html(a.getVideo(i)):(o.addClass("slide-loading"),a.loadMedia(i,function(){o.removeClass("slide-loading"),o.html(this)}))))},setTitle:function(e){var i=null;s("#swipebox-title").empty(),c[e]!==t&&(i=c[e].title),s("#swipebox-top-bar").show(),s("#swipebox-title").append(i)},setShares:function(e){var o=null,a=i.location.pathname,n=i.location.origin;if(s("#swipebox-share").empty(),c[e]!==t){var r=c[e].title?c[e].title:c[e].postname,l=c[e].href,d=c[e].id,p='<a href="#" onclick="Share.fb(\''+n+"/?attachment_id="+d+"&back_url="+a+"&real_title="+r+'\'); return false;" class="soc-icon"><svg preserveAspectRatio="none" class="soc-icon-image" viewBox="0 0 32 32"><use xlink:href="#iconFb"></use></svg></a>',b='<a href="#" onclick="Share.gp(\''+n+"/?attachment_id="+d+"&back_url="+a+"&real_title="+r+'\'); return false;" class="soc-icon"><svg preserveAspectRatio="none" class="soc-icon-image" viewBox="0 0 32 32"><use xlink:href="#iconGp"></use></svg></a>',h='<a href="#" onclick="Share.tw(\''+n+a+"','"+r+"','','"+l+'\'); return false;" class="soc-icon"><svg preserveAspectRatio="none" class="soc-icon-image" viewBox="0 0 32 32"><use xlink:href="#iconTw"></use></svg></a>',v='<a href="#" onclick="Share.vk(\''+n+"/?attachment_id="+d+"&back_url="+a+"&real_title="+r+'\'); return false;" class="soc-icon"><svg preserveAspectRatio="none" class="soc-icon-image" viewBox="0 0 32 32"><use xlink:href="#iconVk"></use></svg></a>',w='<a href="#" onclick="Share.pt(\''+n+a+"','"+r+"','','"+l+'\'); return false;" class="soc-icon"><svg preserveAspectRatio="none" class="soc-icon-image" viewBox="0 0 32 32"><use xlink:href="#iconPt"></use></svg></a>';o=u?p+h:p+b+h+v+w}s("#swipebox-share").append(o)},isVideo:function(e){if(e){if(e.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||e.match(/vimeo\.com\/([0-9]*)/)||e.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/))return!0;if(e.toLowerCase().indexOf("swipeboxvideo=1")>=0)return!0}},parseUri:function(e,t){var o=i.createElement("a"),a={};return o.href=decodeURIComponent(e),a=JSON.parse('{"'+o.search.toLowerCase().replace("?","").replace(/&/g,'","').replace(/=/g,'":"')+'"}'),s.isPlainObject(t)&&(a=s.extend(a,t,d.settings.queryStringData)),s.map(a,function(e,i){if(e&&e>"")return encodeURIComponent(i)+"="+encodeURIComponent(e)}).join("&")},getVideo:function(e){var i="",s=e.match(/((?:www\.)?youtube\.com|(?:www\.)?youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/),t=e.match(/(?:www\.)?youtu\.be\/([a-zA-Z0-9\-_]+)/),o=e.match(/(?:www\.)?vimeo\.com\/([0-9]*)/),a="";return s||t?(t&&(s=t),a=n.parseUri(e,{autoplay:d.settings.autoplayVideos?"1":"0",v:""}),i='<iframe width="560" height="315" src="//'+s[1]+"/embed/"+s[2]+"?"+a+'" frameborder="0" allowfullscreen></iframe>'):o?(a=n.parseUri(e,{autoplay:d.settings.autoplayVideos?"1":"0",byline:"0",portrait:"0",color:d.settings.vimeoColor}),i='<iframe width="560" height="315"  src="//player.vimeo.com/video/'+o[1]+"?"+a+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'):i='<iframe width="560" height="315" src="'+e+'" frameborder="0" allowfullscreen></iframe>','<div class="swipebox-video-container" style="max-width:'+d.settings.videoMaxWidth+'px"><div class="swipebox-video">'+i+"</div></div>"},loadMedia:function(e,i){if(0===e.trim().indexOf("#"))i.call(s("<div>",{"class":"swipebox-inline-container"}).append(s(e).clone().toggleClass(d.settings.toggleClassOnLoad)));else if(!this.isVideo(e)){var t=s("<img>").on("load",function(){i.call(t)});t.attr("src",e)}},getNext:function(){var e,i=this,t=s("#swipebox-slider .slide").index(s("#swipebox-slider .slide.current"));t+1<c.length?(e=s("#swipebox-slider .slide").eq(t).contents().find("iframe").attr("src"),s("#swipebox-slider .slide").eq(t).contents().find("iframe").attr("src",e),t++,i.setSlide(t),i.preloadMedia(t+1)):d.settings.loopAtEnd===!0?(e=s("#swipebox-slider .slide").eq(t).contents().find("iframe").attr("src"),s("#swipebox-slider .slide").eq(t).contents().find("iframe").attr("src",e),t=0,i.preloadMedia(t),i.setSlide(t),i.preloadMedia(t+1)):(s("#swipebox-overlay").addClass("rightSpring"),setTimeout(function(){s("#swipebox-overlay").removeClass("rightSpring")},500))},getPrev:function(){var e,i=s("#swipebox-slider .slide").index(s("#swipebox-slider .slide.current"));i>0?(e=s("#swipebox-slider .slide").eq(i).contents().find("iframe").attr("src"),s("#swipebox-slider .slide").eq(i).contents().find("iframe").attr("src",e),i--,this.setSlide(i),this.preloadMedia(i-1)):(s("#swipebox-overlay").addClass("leftSpring"),setTimeout(function(){s("#swipebox-overlay").removeClass("leftSpring")},500))},closeSlide:function(){s("html").removeClass("swipebox-html"),s("html").removeClass("swipebox-touch"),s(e).trigger("resize"),this.destroy()},destroy:function(){s(e).unbind("keyup"),s("body").unbind("touchstart"),s("body").unbind("touchmove"),s("body").unbind("touchend"),s("#swipebox-slider").unbind(),s("#swipebox-overlay").remove(),s.isArray(o)||o.removeData("_swipebox"),this.target&&this.target.trigger("swipebox-destroy"),s.swipebox.isOpen=!1,d.settings.afterClose&&d.settings.afterClose()}},d.init()},s.fn.swipebox=function(e){if(!s.data(this,"_swipebox")){var i=new s.swipebox(this,e);this.data("_swipebox",i)}return this.data("_swipebox")}}(window,document,jQuery);
//# sourceMappingURL=maps/jquery.swipebox.js.map
